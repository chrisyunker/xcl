{deps, [
  {lager, "3.4.0",
    {git, "https://github.com/basho/lager.git", {tag, "3.4.0"}}},
  {exml, "2.4.1",
    {git, "https://github.com/esl/exml.git", {tag, "2.4.1"}}},
  {websocket_client, "0.8.0",
    {git, "https://github.com/chrisyunker/websocket_client.git", {tag, "0.8.0"}}}
]}.

{dialyzer, [
  {base_plt_apps, [erts, kernel, stdlib, sasl, crypto, public_key,
                   compiler, runtime_tools, ssl]},
  {plt_extra_apps, [websocket_client]}
]}.

{erl_opts, [
  debug_info,
  {src_dirs, ["src", "example"]},
  {parse_transform, lager_transform}
]}.

{profiles, [
  {compile, [
    {erl_opts, [
      {deps_error_on_conflict, true},
      warnings_as_errors,
      warn_export_all,
      warn_export_vars,
      warn_missing_spec,
      warn_obsolete_guard,
      warn_shadow_vars,
      warn_untyped_record,
      warn_unused_import,
      warn_unused_vars
    ]}
  ]}
]}.

{xref_checks, [
  deprecated_functions,
  deprecated_function_calls,
  locals_not_used,
  undefined_function_calls
]}.
